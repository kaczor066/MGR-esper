11:38:35.240 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 11:38:35 CEST 2015]; root of context hierarchy
11:38:35.390 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
11:38:35.395 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
11:38:36.092 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$1623c1d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:38:37.896 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
11:38:38.845 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
11:38:38.845 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
11:38:38.865 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@47da3952] of Hibernate SessionFactory for HibernateTransactionManager
11:38:38.879 [main] INFO  com.mgr.JettyServer - Starting server...
11:38:39.010 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
11:38:39.025 [main] INFO  / - Initializing Spring root WebApplicationContext
11:38:39.025 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
11:38:39.026 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1 ms
11:38:39.028 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-5e180aaf'
11:38:39.029 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-5e180aaf': initialization started
11:38:39.053 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
11:38:39.053 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
11:38:39.053 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
11:38:39.200 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-5e180aaf': initialization completed in 171 ms
11:38:39.201 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@118acf70{/,null,AVAILABLE}
11:38:39.269 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@28a6e171{HTTP/1.1}{0.0.0.0:8081}
11:38:39.269 [main] INFO  com.mgr.JettyServer - Server started at port 8081
11:39:00.733 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 11:39:00 CEST 2015]; root of context hierarchy
11:39:00.841 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
11:39:00.846 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
11:39:01.105 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$1623c1d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:39:02.493 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
11:39:03.522 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
11:39:03.522 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
11:39:03.558 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@47da3952] of Hibernate SessionFactory for HibernateTransactionManager
11:39:03.564 [main] INFO  com.mgr.JettyServer - Starting server...
11:39:03.736 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
11:39:03.754 [main] INFO  / - Initializing Spring root WebApplicationContext
11:39:03.754 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
11:39:03.754 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
11:39:03.757 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-5e180aaf'
11:39:03.757 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-5e180aaf': initialization started
11:39:03.785 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
11:39:03.785 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
11:39:03.785 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
11:39:03.924 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-5e180aaf': initialization completed in 166 ms
11:39:03.925 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@118acf70{/,null,AVAILABLE}
11:39:03.992 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@28a6e171{HTTP/1.1}{0.0.0.0:8081}
11:39:03.992 [main] INFO  com.mgr.JettyServer - Server started at port 8081
11:39:26.569 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.569 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.596 [qtp2040660431-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:39:26.596 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:39:26.596 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:26.605 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:26.616 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.616 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"2","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.617 [qtp2040660431-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:39:26.626 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.627 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"3","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.627 [qtp2040660431-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:39:26.636 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.636 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"4","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.636 [qtp2040660431-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:39:26.644 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.644 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"5","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.644 [qtp2040660431-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:39:26.650 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.651 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"6","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.651 [qtp2040660431-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:39:26.660 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.660 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"7","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.660 [qtp2040660431-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:39:26.665 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.665 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"8","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.665 [qtp2040660431-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:39:26.671 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.671 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"9","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.671 [qtp2040660431-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:39:26.677 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.677 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"10","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.677 [qtp2040660431-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:39:26.685 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.685 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"11","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.685 [qtp2040660431-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:39:26.702 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.702 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"12","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.702 [qtp2040660431-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:39:26.707 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.707 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"13","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.707 [qtp2040660431-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:39:26.714 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.714 [qtp2040660431-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"14","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.714 [qtp2040660431-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:39:26.721 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.721 [qtp2040660431-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"15","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.721 [qtp2040660431-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:39:26.726 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.727 [qtp2040660431-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"16","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.728 [qtp2040660431-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:39:26.733 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:39:26.733 [qtp2040660431-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"17","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:39:26.733 [qtp2040660431-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:39:26.943 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'MissedDeliveriesListener' : PropertyAccessException : Property named 'id_ocenianego' is not a valid property name for this type
com.espertech.esper.client.PropertyAccessException: Property named 'id_ocenianego' is not a valid property name for this type
	at com.espertech.esper.event.map.MapEventBean.get(MapEventBean.java:75) ~[esper-5.2.0.jar:na]
	at com.mgr.esper.listeners.MissedDeliveriesListener.update(MissedDeliveriesListener.java:26) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processThreadWorkQueueLatchedSpin(EPRuntimeImpl.java:915) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processThreadWorkQueue(EPRuntimeImpl.java:818) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:500) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
11:39:26.943 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:39:26.943 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:26.943 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:26.967 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:39:26.967 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:26.967 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.040 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:39:27.074 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.074 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.106 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:39:27.107 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.107 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.156 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:39:27.156 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.156 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.184 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.226 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.255 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:39:27.255 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.256 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.282 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.310 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.347 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:39:27.347 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.347 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.388 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.425 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.465 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:39:27.465 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.465 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.497 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.556 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.577 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:39:27.578 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.578 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.610 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.636 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.690 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:39:27.690 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.690 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.722 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.755 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.782 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:39:27.782 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.782 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.811 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.836 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.866 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:39:27.866 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.866 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.893 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.922 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:27.948 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:39:27.948 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:27.949 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:27.978 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.013 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.113 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:39:28.113 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:28.114 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:28.171 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.199 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.226 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:39:28.226 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:28.226 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:28.257 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.281 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.310 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:39:28.310 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:39:28.311 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:39:28.338 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:39:28.366 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:40:53.217 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 11:40:53 CEST 2015]; root of context hierarchy
11:40:53.328 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
11:40:53.333 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
11:40:53.601 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$1623c1d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:40:55.176 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
11:40:56.132 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
11:40:56.133 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
11:40:56.156 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@47da3952] of Hibernate SessionFactory for HibernateTransactionManager
11:40:56.163 [main] INFO  com.mgr.JettyServer - Starting server...
11:40:56.280 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
11:40:56.299 [main] INFO  / - Initializing Spring root WebApplicationContext
11:40:56.299 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
11:40:56.299 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
11:40:56.302 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-6b415f5f'
11:40:56.302 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-6b415f5f': initialization started
11:40:56.339 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
11:40:56.339 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
11:40:56.339 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
11:40:56.457 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-6b415f5f': initialization completed in 155 ms
11:40:56.458 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@11f23203{/,null,AVAILABLE}
11:40:56.528 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@2e0fdbe9{HTTP/1.1}{0.0.0.0:8081}
11:40:56.528 [main] INFO  com.mgr.JettyServer - Server started at port 8081
11:41:00.831 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.831 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.858 [qtp1312250810-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:41:00.858 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:41:00.858 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:00.862 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:00.882 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.882 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"2","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.883 [qtp1312250810-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:41:00.892 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.893 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"3","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.893 [qtp1312250810-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:41:00.904 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.904 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"4","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.905 [qtp1312250810-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:41:00.911 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.911 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"5","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.912 [qtp1312250810-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:41:00.916 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.916 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"6","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.916 [qtp1312250810-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:41:00.922 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.922 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"7","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.922 [qtp1312250810-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:41:00.928 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.928 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"8","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.928 [qtp1312250810-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:41:00.935 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.935 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"9","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.935 [qtp1312250810-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:41:00.940 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.940 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"10","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.940 [qtp1312250810-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:41:00.945 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.945 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"11","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.945 [qtp1312250810-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:41:00.960 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.960 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"12","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.960 [qtp1312250810-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:41:00.965 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.965 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"13","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.965 [qtp1312250810-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:41:00.971 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.971 [qtp1312250810-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"14","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.971 [qtp1312250810-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:41:00.977 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.977 [qtp1312250810-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"15","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.977 [qtp1312250810-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:41:00.984 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.985 [qtp1312250810-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"16","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.985 [qtp1312250810-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:41:00.990 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:41:00.990 [qtp1312250810-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"17","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:41:00.991 [qtp1312250810-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:41:01.102 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : DataIntegrityViolationException : ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated
; SQL [n/a]; constraint [CDM.RECENZJE_ESPER_UK1]; nested exception is org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

org.springframework.dao.DataIntegrityViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated
; SQL [n/a]; constraint [CDM.RECENZJE_ESPER_UK1]; nested exception is org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:163) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:74) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy43.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:56) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2859) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3300) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:88) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:362) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:354) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:275) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1214) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:403) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:25) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:445) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:879) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:207) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1044) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1329) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3584) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3665) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1352) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	... 44 common frames omitted
11:41:01.111 [pool-1-thread-1] ERROR c.mgr.esper.listeners.ReviewListener - Missed delivery detected!!!! ID_OCENIANEGO:SKLEP1
11:41:01.120 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'MissedDeliveriesListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyPomyloneDostawyDao$$EnhancerBySpringCGLIB$$241e37fc.insertOrUpdate(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.MissedDeliveriesListener.update(MissedDeliveriesListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processThreadWorkQueueLatchedSpin(EPRuntimeImpl.java:915) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processThreadWorkQueue(EPRuntimeImpl.java:818) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:500) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertTablesDao.insertOrUpdate(AlertTablesDao.java:32) ~[classes/:na]
	at com.mgr.common.data.dao.AlertTablesDao$$FastClassBySpringCGLIB$$e2804ed1.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 25 common frames omitted
11:41:01.120 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:41:01.120 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.121 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.123 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.123 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:41:01.123 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.124 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.125 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.125 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:41:01.125 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.125 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.126 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.126 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:41:01.126 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.127 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.127 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.128 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:41:01.128 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.128 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.129 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.129 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.144 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.145 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.154 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.154 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:41:01.154 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.155 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.158 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.159 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.159 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.160 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.160 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.161 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:41:01.161 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.161 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.162 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.162 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.163 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.163 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.164 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.165 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:41:01.165 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.165 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.166 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.167 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.167 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.168 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.169 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.170 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:41:01.170 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.170 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.171 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.172 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.173 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.173 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.174 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.174 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:41:01.174 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.174 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.175 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.176 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.177 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.178 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.181 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.182 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:41:01.182 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.182 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.183 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.183 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.184 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.184 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.185 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.185 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:41:01.185 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.186 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.187 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.187 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.188 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.188 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.189 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.189 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:41:01.189 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.189 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.190 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.190 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.191 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.192 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.193 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.193 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:41:01.194 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.194 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.216 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.217 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.220 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.220 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.221 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.222 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:41:01.222 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.222 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.223 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.224 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.225 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.225 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.225 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.226 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:41:01.226 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:41:01.226 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
11:41:01.227 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$242887b5.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.227 [pool-1-thread-1] ERROR c.m.e.listeners.GoodPackingListener - Improvement in packing detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.228 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodPackingListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$EnhancerBySpringCGLIB$$2a1884b4.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodPackingListener.update(GoodPackingListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao.deleteById(AlertySlabePakowanieDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlabePakowanieDao$$FastClassBySpringCGLIB$$eba7d295.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:01.228 [pool-1-thread-1] ERROR c.m.e.l.GoodDeliveryTimeListener - Improvement in delivery time detected!!!! ID_OCENIANEGO:SKLEP1, AVG:5.0
11:41:01.229 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'GoodDeliveryTimeListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$EnhancerBySpringCGLIB$$c4a0cc59.deleteById(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.GoodDeliveryTimeListener.update(GoodDeliveryTimeListener.java:25) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:96) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao.deleteById(AlertySlCzasDostawyDao.java:34) ~[classes/:na]
	at com.mgr.common.data.dao.AlertySlCzasDostawyDao$$FastClassBySpringCGLIB$$ef82b5da.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
11:41:57.154 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 11:41:57 CEST 2015]; root of context hierarchy
11:41:57.259 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
11:41:57.265 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
11:41:57.539 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$1623c1d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:41:58.927 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
11:41:59.822 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
11:41:59.822 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
11:41:59.851 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@47da3952] of Hibernate SessionFactory for HibernateTransactionManager
11:41:59.858 [main] INFO  com.mgr.JettyServer - Starting server...
11:42:00.004 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
11:42:00.048 [main] INFO  / - Initializing Spring root WebApplicationContext
11:42:00.048 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
11:42:00.049 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
11:42:00.054 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-1980a3f'
11:42:00.054 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-1980a3f': initialization started
11:42:00.135 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
11:42:00.135 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
11:42:00.135 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
11:42:00.290 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-1980a3f': initialization completed in 236 ms
11:42:00.291 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@611b35d6{/,null,AVAILABLE}
11:42:00.383 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@4b425577{HTTP/1.1}{0.0.0.0:8081}
11:42:00.383 [main] INFO  com.mgr.JettyServer - Server started at port 8081
11:42:04.716 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.716 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.743 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:42:04.744 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:42:04.745 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:04.760 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.760 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"2","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.761 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:42:04.766 [pool-1-thread-1] ERROR c.mgr.esper.listeners.ReviewListener - Missed delivery detected!!!! ID_OCENIANEGO:SKLEP1
11:42:04.778 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.778 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"3","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.780 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:42:04.791 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.792 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"4","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.792 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:42:04.801 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.802 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"5","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.802 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:42:04.812 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.812 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"6","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.812 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:42:04.819 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.819 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"7","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.819 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:42:04.825 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.826 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"8","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.826 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:42:04.831 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.831 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"9","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.831 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:42:04.836 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.836 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"10","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.836 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:42:04.841 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.841 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"11","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.842 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:42:04.850 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.850 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"12","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.850 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:42:04.861 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.861 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"13","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.861 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:42:04.866 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.866 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"14","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.866 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:42:04.872 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.872 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"15","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.872 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:42:04.877 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.877 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"16","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.878 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:42:04.883 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:04.883 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"17","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:04.883 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.022 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:42:05.023 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:42:05.024 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.894 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.894 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.894 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:42:36.894 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:42:36.894 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.895 [pool-1-thread-1] ERROR c.mgr.esper.listeners.ReviewListener - Missed delivery detected!!!! ID_OCENIANEGO:SKLEP1
11:42:36.904 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.904 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"2","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.904 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:42:36.910 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.910 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"3","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.910 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:42:36.915 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.915 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"4","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.915 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:42:36.922 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.922 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"5","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.922 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:42:36.927 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.927 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"6","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.927 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:42:36.934 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:42:36.934 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.934 [pool-1-thread-1] ERROR c.mgr.esper.listeners.ReviewListener - Missed delivery detected!!!! ID_OCENIANEGO:SKLEP1
11:42:36.935 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.935 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"7","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.935 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:42:36.940 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.940 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"8","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.940 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:42:36.945 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.945 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"9","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.945 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:42:36.951 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.951 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"10","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.951 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:42:36.956 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.956 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"11","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.956 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:42:36.962 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.962 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"12","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.962 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:42:36.975 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.976 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.976 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"13","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.976 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:42:36.976 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:42:36.977 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.982 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.982 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"14","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.982 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:42:36.982 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:42:36.982 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.986 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.986 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"15","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.986 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:42:36.986 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:42:36.986 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.992 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:36.992 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"16","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:36.992 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:42:36.992 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:42:36.993 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:36.999 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:37.000 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"17","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:37.000 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:42:37.000 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:42:37.000 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.640 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.640 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.640 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:42:59.640 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:1} ]
11:42:59.640 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.641 [pool-1-thread-1] ERROR c.mgr.esper.listeners.ReviewListener - Missed delivery detected!!!! ID_OCENIANEGO:SKLEP1
11:42:59.649 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.649 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"2","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"0","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.649 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:42:59.654 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.654 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"3","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.654 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:42:59.659 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.659 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"4","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.659 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:42:59.664 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.664 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"5","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.664 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:42:59.676 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.676 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"6","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.676 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:42:59.680 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:0} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:2} ]
11:42:59.680 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.680 [pool-1-thread-1] ERROR c.mgr.esper.listeners.ReviewListener - Missed delivery detected!!!! ID_OCENIANEGO:SKLEP1
11:42:59.681 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.681 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"7","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.681 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:42:59.686 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.686 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"8","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.686 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:42:59.691 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.691 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"9","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.691 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:42:59.697 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.697 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"10","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.697 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:42:59.702 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.702 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"11","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.702 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:42:59.707 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.707 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"12","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.707 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:42:59.715 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.715 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"13","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.715 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:42:59.720 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:3} ]
11:42:59.720 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.720 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:4} ]
11:42:59.720 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.720 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:5} ]
11:42:59.720 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.721 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:6} ]
11:42:59.721 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.721 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:7} ]
11:42:59.721 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:8} ]
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:9} ]
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:10} ]
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:11} ]
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.722 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:12} ]
11:42:59.724 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.726 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:13} ]
11:42:59.726 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.733 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.733 [qtp145122075-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"14","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.733 [qtp145122075-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:42:59.734 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:14} ]
11:42:59.735 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.741 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.741 [qtp145122075-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"15","ID_OCENIAJACEGO":"KLIENT5","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.741 [qtp145122075-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:42:59.741 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT5} {Key:DOSTAWA_KLIENT Value:15} ]
11:42:59.741 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.746 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.746 [qtp145122075-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"16","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.746 [qtp145122075-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:42:59.748 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:16} ]
11:42:59.748 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
11:42:59.753 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
11:42:59.753 [qtp145122075-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"1","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"17","ID_OCENIAJACEGO":"KLIENT4","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
11:42:59.753 [qtp145122075-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:42:59.753 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:1} {Key:ID_OCENIAJACEGO Value:KLIENT4} {Key:DOSTAWA_KLIENT Value:17} ]
11:42:59.753 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:16:30.683 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:16:30 CEST 2015]; root of context hierarchy
18:16:30.821 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:16:30.826 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:16:31.344 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:16:34.158 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:16:35.330 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:16:35.330 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:16:35.418 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:16:35.429 [main] INFO  com.mgr.JettyServer - Starting server...
18:16:35.610 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:16:35.678 [main] INFO  / - Initializing Spring root WebApplicationContext
18:16:35.678 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:16:35.678 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:16:35.681 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7'
18:16:35.681 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization started
18:16:35.730 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:16:35.730 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:16:35.731 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:16:35.965 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization completed in 284 ms
18:16:35.965 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@a85644c{/,null,AVAILABLE}
18:16:36.063 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@14d25b6e{HTTP/1.1}{0.0.0.0:8081}
18:16:36.064 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:25:51.419 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:25:51 CEST 2015]; root of context hierarchy
18:25:51.523 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:25:51.528 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:25:51.774 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:25:53.036 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:25:53.856 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:25:53.856 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:25:53.883 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:25:53.890 [main] INFO  com.mgr.JettyServer - Starting server...
18:25:54.000 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:25:54.017 [main] INFO  / - Initializing Spring root WebApplicationContext
18:25:54.017 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:25:54.017 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:25:54.020 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7'
18:25:54.020 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization started
18:25:54.044 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:25:54.044 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:25:54.044 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:25:54.160 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization completed in 140 ms
18:25:54.161 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@a85644c{/,null,AVAILABLE}
18:25:54.233 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@14d25b6e{HTTP/1.1}{0.0.0.0:8081}
18:25:54.234 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:25:58.527 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:25:58.527 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:25:58.555 [qtp1729954747-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.557 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.558 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:25:58.570 [qtp1729954747-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:25:58.570 [qtp1729954747-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:25:58.571 [qtp1729954747-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.571 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.571 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:25:58.579 [qtp1729954747-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:25:58.579 [qtp1729954747-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:25:58.579 [qtp1729954747-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:25:58.579 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:25:58.580 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:25:58.593 [qtp1729954747-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:25:58.593 [qtp1729954747-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:25:58.594 [qtp1729954747-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.606 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:25:58.606 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:25:58.606 [qtp1729954747-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.728 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : ClassCastException : java.lang.Integer cannot be cast to java.math.BigDecimal
java.lang.ClassCastException: java.lang.Integer cannot be cast to java.math.BigDecimal
	at org.hibernate.type.descriptor.java.BigDecimalTypeDescriptor.unwrap(BigDecimalTypeDescriptor.java:36) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.type.descriptor.sql.DecimalTypeDescriptor$1.doBind(DecimalTypeDescriptor.java:58) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:92) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:305) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:300) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.bindPositionalParameters(Loader.java:1882) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.bindParameterValues(Loader.java:1853) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1728) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:828) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:289) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2438) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2424) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2254) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2249) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:122) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1622) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:374) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:40) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:38) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
18:25:58.729 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.729 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:25:58.731 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:38) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:36) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:25:58.731 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:25:58.731 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:25:58.732 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:38) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:36) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:27:07.143 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:27:07 CEST 2015]; root of context hierarchy
18:27:07.246 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:27:07.253 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:27:07.529 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:27:08.816 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:27:09.561 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:27:09.561 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:27:09.584 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:27:09.590 [main] INFO  com.mgr.JettyServer - Starting server...
18:27:09.689 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:27:09.704 [main] INFO  / - Initializing Spring root WebApplicationContext
18:27:09.704 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:27:09.704 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:27:09.707 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7'
18:27:09.707 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization started
18:27:09.726 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:27:09.726 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:27:09.726 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:27:09.823 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization completed in 116 ms
18:27:09.824 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@a85644c{/,null,AVAILABLE}
18:27:09.874 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@14d25b6e{HTTP/1.1}{0.0.0.0:8081}
18:27:09.874 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:27:15.130 [qtp1729954747-16] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:15.130 [qtp1729954747-16] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:15.157 [qtp1729954747-16] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.157 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.158 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:15.171 [qtp1729954747-16] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:15.171 [qtp1729954747-16] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:15.172 [qtp1729954747-16] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.172 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.172 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:15.180 [qtp1729954747-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:15.181 [qtp1729954747-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:15.181 [qtp1729954747-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:27:15.182 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:27:15.182 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:15.196 [qtp1729954747-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:15.196 [qtp1729954747-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:15.196 [qtp1729954747-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.213 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:15.213 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:15.213 [qtp1729954747-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.473 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.473 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:15.610 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:15.610 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:48.699 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:27:48 CEST 2015]; root of context hierarchy
18:27:48.805 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:27:48.809 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:27:49.079 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:27:50.332 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:27:51.077 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:27:51.078 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:27:51.101 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:27:51.106 [main] INFO  com.mgr.JettyServer - Starting server...
18:27:51.202 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:27:51.218 [main] INFO  / - Initializing Spring root WebApplicationContext
18:27:51.218 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:27:51.218 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:27:51.221 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7'
18:27:51.221 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization started
18:27:51.240 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:27:51.241 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:27:51.241 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:27:51.335 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-390037e7': initialization completed in 114 ms
18:27:51.336 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@a85644c{/,null,AVAILABLE}
18:27:51.397 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@14d25b6e{HTTP/1.1}{0.0.0.0:8081}
18:27:51.397 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:27:55.436 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:55.436 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:55.459 [qtp1729954747-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.459 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.459 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:55.471 [qtp1729954747-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:55.471 [qtp1729954747-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:55.471 [qtp1729954747-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.472 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.472 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:55.479 [qtp1729954747-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:55.479 [qtp1729954747-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:55.479 [qtp1729954747-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:27:55.479 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:27:55.479 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:55.495 [qtp1729954747-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:55.495 [qtp1729954747-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:55.496 [qtp1729954747-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.509 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:27:55.509 [qtp1729954747-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:27:55.510 [qtp1729954747-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.694 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.694 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:27:55.750 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:27:55.750 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:28:35.876 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:28:35 CEST 2015]; root of context hierarchy
18:28:35.975 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:28:35.980 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:28:36.247 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:28:37.514 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:28:38.300 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:28:38.301 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:28:38.319 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:28:38.325 [main] INFO  com.mgr.JettyServer - Starting server...
18:28:38.433 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:28:38.467 [main] INFO  / - Initializing Spring root WebApplicationContext
18:28:38.467 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:28:38.467 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:28:38.470 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c'
18:28:38.470 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization started
18:28:38.499 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:28:38.499 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:28:38.499 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:28:38.621 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization completed in 151 ms
18:28:38.623 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7c1503a3{/,null,AVAILABLE}
18:28:38.686 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@8840c98{HTTP/1.1}{0.0.0.0:8081}
18:28:38.686 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:28:43.843 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:28:43.843 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:28:43.868 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:43.868 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:43.868 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:28:43.872 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:28:43.895 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:28:43.896 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:28:43.897 [qtp1232204889-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:43.908 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:28:43.908 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:28:43.908 [qtp1232204889-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:28:43.916 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:28:43.916 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:28:43.917 [qtp1232204889-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:43.922 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:28:43.922 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:28:43.923 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:44.105 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:44.105 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:28:44.106 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:28:44.127 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:28:44.127 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:28:44.127 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:28:44.255 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:44.255 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:28:44.255 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:28:44.469 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:28:44.469 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:28:44.469 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:29:47.938 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:29:47 CEST 2015]; root of context hierarchy
18:29:48.047 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:29:48.052 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:29:48.319 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:29:49.655 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:29:50.480 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:29:50.481 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:29:50.509 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:29:50.515 [main] INFO  com.mgr.JettyServer - Starting server...
18:29:50.629 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:29:50.646 [main] INFO  / - Initializing Spring root WebApplicationContext
18:29:50.647 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:29:50.647 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:29:50.649 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c'
18:29:50.650 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization started
18:29:50.673 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:29:50.673 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:29:50.673 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:29:50.775 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization completed in 125 ms
18:29:50.776 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7c1503a3{/,null,AVAILABLE}
18:29:50.830 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@8840c98{HTTP/1.1}{0.0.0.0:8081}
18:29:50.830 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:30:00.658 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:30:00.658 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:30:00.710 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:00.711 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:00.711 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:30:00.719 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:30:00.771 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:30:00.771 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:30:00.773 [qtp1232204889-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:00.785 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:30:00.785 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:30:00.786 [qtp1232204889-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:30:00.793 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:30:00.793 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:30:00.793 [qtp1232204889-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:00.798 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:30:00.798 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:30:00.798 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:00.995 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : DataIntegrityViolationException : ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated
; SQL [n/a]; constraint [CDM.RECENZJE_ESPER_UK1]; nested exception is org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

org.springframework.dao.DataIntegrityViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated
; SQL [n/a]; constraint [CDM.RECENZJE_ESPER_UK1]; nested exception is org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:163) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:74) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy43.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:56) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2859) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3300) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:88) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:362) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:354) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:275) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1214) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:403) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:25) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:445) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:879) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:207) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1044) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1329) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3584) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3665) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1352) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	... 44 common frames omitted
18:30:00.996 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:00.997 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:30:00.997 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:30:00.998 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:00.999 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:30:00.999 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:30:00.999 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:30:01.000 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:01.012 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:38) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:37) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:01.013 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:01.013 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:30:01.013 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:30:01.014 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:01.015 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:38) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:37) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:01.015 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:30:01.015 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:30:01.016 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:30:01.016 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:01.018 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:38) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:37) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:30:57.041 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:30:57 CEST 2015]; root of context hierarchy
18:30:57.145 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:30:57.150 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:30:57.412 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:30:58.678 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:30:59.469 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:30:59.470 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:30:59.490 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:30:59.495 [main] INFO  com.mgr.JettyServer - Starting server...
18:30:59.611 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:30:59.627 [main] INFO  / - Initializing Spring root WebApplicationContext
18:30:59.628 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:30:59.628 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:30:59.631 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c'
18:30:59.631 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization started
18:30:59.657 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:30:59.657 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:30:59.657 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:30:59.769 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization completed in 138 ms
18:30:59.769 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7c1503a3{/,null,AVAILABLE}
18:30:59.826 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@8840c98{HTTP/1.1}{0.0.0.0:8081}
18:30:59.826 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:31:03.260 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:31:03.260 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:31:03.283 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.283 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.283 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:31:03.286 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:31:03.306 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:31:03.306 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:31:03.306 [qtp1232204889-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.318 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:31:03.319 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:31:03.319 [qtp1232204889-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:31:03.330 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:31:03.331 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:31:03.331 [qtp1232204889-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.336 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:31:03.336 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:31:03.336 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.453 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.454 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:31:03.454 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:31:03.477 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:31:03.477 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:31:03.477 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:31:03.603 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.604 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:31:03.604 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:31:03.687 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:31:03.687 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:31:03.687 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:32:39.637 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:32:39 CEST 2015]; root of context hierarchy
18:32:39.735 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:32:39.741 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:32:40.017 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:32:41.288 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:32:42.084 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:32:42.084 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:32:42.103 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:32:42.109 [main] INFO  com.mgr.JettyServer - Starting server...
18:32:42.211 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:32:42.226 [main] INFO  / - Initializing Spring root WebApplicationContext
18:32:42.226 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:32:42.226 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:32:42.228 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c'
18:32:42.228 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization started
18:32:42.249 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:32:42.249 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:32:42.249 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:32:42.343 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization completed in 114 ms
18:32:42.344 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7c1503a3{/,null,AVAILABLE}
18:32:42.409 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@8840c98{HTTP/1.1}{0.0.0.0:8081}
18:32:42.409 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:32:46.819 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:32:46.819 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:32:46.843 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:46.843 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:46.844 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:32:46.847 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:32:46.871 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:32:46.872 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:32:46.872 [qtp1232204889-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:46.882 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:32:46.882 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:32:46.883 [qtp1232204889-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:32:46.889 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:32:46.889 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:32:46.889 [qtp1232204889-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:46.895 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:32:46.895 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:32:46.895 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:47.027 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : DataIntegrityViolationException : ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated
; SQL [n/a]; constraint [CDM.RECENZJE_ESPER_UK1]; nested exception is org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

org.springframework.dao.DataIntegrityViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated
; SQL [n/a]; constraint [CDM.RECENZJE_ESPER_UK1]; nested exception is org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:163) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.exception.ConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:74) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy43.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:56) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2859) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3300) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:88) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:362) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:354) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:275) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1214) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:403) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:25) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (CDM.RECENZJE_ESPER_UK1) violated

	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:445) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:879) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:207) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1044) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1329) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3584) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3665) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1352) ~[ojdbc6-11.2.0.3.jar:11.2.0.3.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	... 44 common frames omitted
18:32:47.028 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:47.028 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:32:47.028 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:32:47.029 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:32:47.030 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:32:47.030 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:32:47.030 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:32:47.030 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:32:47.031 [pool-1-thread-1] DEBUG c.m.e.listeners.BadPackingListener - AAAAAAAAAAAA         klient-1---              sklep-1----
18:32:47.037 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:39) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:37) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:32:47.037 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:47.037 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:32:47.038 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:32:47.039 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:32:47.039 [pool-1-thread-1] DEBUG c.m.e.listeners.BadPackingListener - AAAAAAAAAAAA         klient-null---              sklep-2----
18:32:47.040 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:39) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:37) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:32:47.042 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:32:47.042 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:32:47.042 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:32:47.044 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'ReviewListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.RecenzjeDao$$EnhancerBySpringCGLIB$$f1127d32.insert(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.ReviewListener.update(ReviewListener.java:27) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.RecenzjeDao.insert(RecenzjeDao.java:23) ~[classes/:na]
	at com.mgr.common.data.dao.RecenzjeDao$$FastClassBySpringCGLIB$$f9b390b6.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:32:47.045 [pool-1-thread-1] DEBUG c.m.e.listeners.BadPackingListener - AAAAAAAAAAAA         klient-null---              sklep-null----
18:32:47.047 [pool-1-thread-1] ERROR c.e.e.c.s.StatementResultServiceImpl - Unexpected exception invoking listener update method on listener class 'BadQualityListener' : HibernateSystemException : nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
org.springframework.orm.hibernate4.HibernateSystemException: nested transactions not supported; nested exception is org.hibernate.TransactionException: nested transactions not supported
	at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:218) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:57) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.orm.hibernate4.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:44) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$EnhancerBySpringCGLIB$$377a53b2.selectGroup(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at com.mgr.esper.listeners.BadQualityListener.update(BadQualityListener.java:39) ~[classes/:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.dispatchInternal(StatementResultServiceImpl.java:371) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.processDispatch(StatementResultServiceImpl.java:246) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.StatementResultServiceImpl.execute(StatementResultServiceImpl.java:232) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchViewBase.execute(UpdateDispatchViewBase.java:75) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.UpdateDispatchFutureSpin.execute(UpdateDispatchFutureSpin.java:85) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatchFromQueue(DispatchServiceImpl.java:52) [esper-5.2.0.jar:na]
	at com.espertech.esper.dispatch.DispatchServiceImpl.dispatch(DispatchServiceImpl.java:31) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.dispatch(EPRuntimeImpl.java:1335) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processWrappedEvent(EPRuntimeImpl.java:497) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.processEvent(EPRuntimeImpl.java:457) [esper-5.2.0.jar:na]
	at com.espertech.esper.core.service.EPRuntimeImpl.sendEvent(EPRuntimeImpl.java:214) [esper-5.2.0.jar:na]
	at com.mgr.common.esper.EsperEngine.sendEvent(EsperEngine.java:102) [classes/:na]
	at com.mgr.common.esper.EsperWorker.doWork(EsperWorker.java:39) [classes/:na]
	at com.mgr.common.worker.Worker.run(Worker.java:22) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_45]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_45]
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1396) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_45]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_45]
	at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:352) ~[hibernate-core-4.1.4.Final.jar:4.1.4.Final]
	at com.sun.proxy.$Proxy41.beginTransaction(Unknown Source) ~[na:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao.selectGroup(AlertyNiskaJakoscDao.java:37) ~[classes/:na]
	at com.mgr.common.data.dao.AlertyNiskaJakoscDao$$FastClassBySpringCGLIB$$755b736.invoke(<generated>) ~[spring-core-4.1.6.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.1.6.RELEASE.jar:4.1.6.RELEASE]
	... 23 common frames omitted
18:33:12.700 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Jun 02 18:33:12 CEST 2015]; root of context hierarchy
18:33:12.801 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Registering annotated classes: [class com.mgr.json.config.JsonMessageFormatConfig]
18:33:12.807 [main] INFO  o.s.w.c.s.AnnotationConfigWebApplicationContext - Scanning base packages: [com.mgr.config,com.mgr.json.controller,com.mgr.common,com.mgr.esper]
18:33:13.080 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'appConfig' of type [class com.mgr.config.AppConfig$$EnhancerBySpringCGLIB$$921a3923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
18:33:14.359 [main] INFO  c.e.e.c.s.EPServiceProviderImpl - Initializing engine URI 'MGREsperEngine' version 5.2.0
18:33:15.142 [main] INFO  com.mgr.common.esper.EsperWorker - Starting the worker.
18:33:15.142 [main] INFO  c.m.c.worker.AbstractExecutorService - Worker created and started.
18:33:15.159 [main] INFO  o.s.o.h.HibernateTransactionManager - Using DataSource [oracle.jdbc.pool.OracleDataSource@2b62442c] of Hibernate SessionFactory for HibernateTransactionManager
18:33:15.165 [main] INFO  com.mgr.JettyServer - Starting server...
18:33:15.269 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.1.0.v20131115
18:33:15.285 [main] INFO  / - Initializing Spring root WebApplicationContext
18:33:15.285 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
18:33:15.285 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 0 ms
18:33:15.288 [main] INFO  / - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c'
18:33:15.288 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization started
18:33:15.310 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}] onto handler 'jsonMessageController'
18:33:15.310 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}.*] onto handler 'jsonMessageController'
18:33:15.310 [main] INFO  o.s.w.s.m.a.DefaultAnnotationHandlerMapping - Mapped URL path [/events/{name}/] onto handler 'jsonMessageController'
18:33:15.414 [main] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-77b5148c': initialization completed in 126 ms
18:33:15.414 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7c1503a3{/,null,AVAILABLE}
18:33:15.468 [main] INFO  o.e.jetty.server.ServerConnector - Started ServerConnector@8840c98{HTTP/1.1}{0.0.0.0:8081}
18:33:15.468 [main] INFO  com.mgr.JettyServer - Server started at port 8081
18:33:30.939 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:33:30.941 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN1","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:33:30.966 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:30.967 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN1} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:30.967 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:33:30.971 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:33:30.980 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:33:30.980 [qtp1232204889-21] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP1","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"5","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:33:30.980 [qtp1232204889-21] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:30.987 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:33:30.987 [qtp1232204889-22] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"1","DOSTAWA_KLIENT":"1","ID_OCENIAJACEGO":"KLIENT1","ID_OCENIANEGO":"SKLEP1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"2","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:33:30.988 [qtp1232204889-22] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:33:30.999 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:33:30.999 [qtp1232204889-23] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":"2","DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"SKLEP2","ID_OCENIANEGO":"MAGAZYN1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:33:30.999 [qtp1232204889-23] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:31.006 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - Received a new message.
18:33:31.007 [qtp1232204889-20] DEBUG c.m.j.c.JsonMessageController - {"event":{"SERIA":"2","DOSTAWA_SKLEP":null,"DOSTAWA_KLIENT":null,"ID_OCENIAJACEGO":"MAGAZYN2","ID_OCENIANEGO":"FABRYKA1","ZGODNOSC":"1","CZAS_DOSTAWY":"5","JAKOSC":"1","PAKOWANIE":"5","DATA_RECENZJI":"2002-09-10 11:10:10.123"}}
18:33:31.007 [qtp1232204889-20] DEBUG com.mgr.common.queue.PassEventQueue - Event inserted to Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:31.167 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:5} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP1} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:31.167 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:33:31.167 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:33:31.193 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:1} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:2} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:SKLEP1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:KLIENT1} {Key:DOSTAWA_KLIENT Value:1} ]
18:33:31.193 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:33:31.194 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:33:31.216 [pool-1-thread-1] DEBUG c.m.e.listeners.BadPackingListener - AAAAAAAAAAAA         klient-1---              sklep-1----
18:33:31.318 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:2} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:MAGAZYN1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:SKLEP2} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:31.318 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:33:31.318 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:33:31.357 [pool-1-thread-1] DEBUG c.m.e.listeners.BadPackingListener - AAAAAAAAAAAA         klient-null---              sklep-2----
18:33:31.424 [pool-1-thread-1] DEBUG com.mgr.common.queue.PassEventQueue - Event taken from Queue. Event:[{Key:PAKOWANIE Value:5} {Key:DOSTAWA_SKLEP Value:null} {Key:ZGODNOSC Value:1} {Key:JAKOSC Value:1} {Key:EVENT_NAME Value:EV_Recenzja} {Key:ID_OCENIANEGO Value:FABRYKA1} {Key:DATA_RECENZJI Value:2002-09-10 11:10:10.123} {Key:CZAS_DOSTAWY Value:5} {Key:SERIA Value:2} {Key:ID_OCENIAJACEGO Value:MAGAZYN2} {Key:DOSTAWA_KLIENT Value:null} ]
18:33:31.424 [pool-1-thread-1] DEBUG com.mgr.common.esper.EsperWorker - Sending event to engine...
18:33:31.424 [pool-1-thread-1] DEBUG c.mgr.esper.listeners.ReviewListener - Inserting new event to RecenzjeEsper
18:33:31.446 [pool-1-thread-1] DEBUG c.m.e.listeners.BadPackingListener - AAAAAAAAAAAA         klient-null---              sklep-null----
